name: Scheduled Blog Publishing

on:
  schedule:
    # Runs every Wednesday at 7:00 AM EST (12:00 UTC)
    # Adjust UTC time based on your timezone:
    # EST (winter): UTC 12:00 = 7:00 AM EST
    # EDT (summer): UTC 11:00 = 7:00 AM EDT
    - cron: '0 12 * * 3'

  # Allows manual triggering from GitHub Actions tab
  workflow_dispatch:

jobs:
  trigger-netlify-build:
    runs-on: ubuntu-latest

    steps:
      - name: Trigger Netlify Build
        run: |
          curl -X POST -d {} ${{ secrets.NETLIFY_BUILD_HOOK }}

      - name: Log deployment
        run: |
          echo "Netlify build triggered at $(date)"
          echo "Scheduled posts should now be published"
